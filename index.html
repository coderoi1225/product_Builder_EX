<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ìˆ ì•ˆì£¼ ì¶”ì²œê¸° v2 (ì˜ë§¥ í¬í•¨)</title>
  <style>
    :root { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple SD Gothic Neo", "Noto Sans KR", sans-serif; }
    body { margin: 0; background: #f6f7fb; color: #111; }
    .wrap { max-width: 780px; margin: 40px auto; padding: 0 16px; }
    .card { background: #fff; border-radius: 16px; padding: 20px; box-shadow: 0 8px 24px rgba(0,0,0,0.08); }
    h1 { margin: 0 0 8px; font-size: 22px; }
    p.sub { margin: 0 0 18px; color: #555; line-height: 1.5; }
    .grid { display: grid; gap: 14px; grid-template-columns: 1fr 1fr 1fr; }
    label { display:block; font-size: 13px; color:#333; margin-bottom: 6px; }
    select, button { width: 100%; padding: 12px 12px; border-radius: 12px; border: 1px solid #dfe3ea; background: #fff; font-size: 15px; }
    .btnRow { display:grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 14px; }
    button { border: none; cursor: pointer; background: #111; color: #fff; font-weight: 800; transition: transform .05s ease-in-out, opacity .2s ease; }
    button.secondary { background: #2a3550; }
    button:active { transform: scale(0.99); }
    button:hover { opacity: 0.92; }
    .result { margin-top: 16px; padding: 14px; border-radius: 14px; background: #0b1220; color: #fff; min-height: 110px; }
    .badge { display:inline-block; padding: 4px 10px; border-radius: 999px; background: rgba(255,255,255,0.12); font-size: 12px; margin-right: 6px; }
    .menu { font-size: 18px; font-weight: 900; margin: 10px 0 6px; }
    .meta { margin: 6px 0 0; color: rgba(255,255,255,0.85); font-size: 13px; }
    .reason { margin-top: 8px; color: rgba(255,255,255,0.85); line-height: 1.5; }
    .footer { margin-top: 12px; color:#666; font-size: 12px; }
    @media (max-width: 760px) { .grid { grid-template-columns: 1fr; } .btnRow{grid-template-columns:1fr;} }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>ğŸ¶ğŸº ìˆ ì•ˆì£¼ ì¶”ì²œê¸° v2 (ì˜ë§¥ í¬í•¨)</h1>
      <p class="sub">ìˆ  + ì¹´í…Œê³ ë¦¬ + ìƒí™©(í˜¼ìˆ /2ì¸/ëª¨ì„)ì„ ê³ ë¥´ë©´, ì°°ë–¡ ì•ˆì£¼ì™€ <b>1ì¸ë¶„ ì¹¼ë¡œë¦¬</b>ë¥¼ í•¨ê»˜ ì•Œë ¤ì¤˜ìš”.</p>

      <div class="grid">
        <div>
          <label for="alcohol">ìˆ  ì¢…ë¥˜</label>
          <select id="alcohol">
            <option value="soju">ì†Œì£¼</option>
            <option value="beer">ë§¥ì£¼</option>
            <option value="somaek">ì˜ë§¥</option>
            <option value="makgeolli">ë§‰ê±¸ë¦¬</option>
            <option value="wine">ì™€ì¸</option>
            <option value="whisky">ìœ„ìŠ¤í‚¤</option>
          </select>
        </div>

        <div>
          <label for="cuisine">ì¹´í…Œê³ ë¦¬</label>
          <select id="cuisine">
            <option value="korean">í•œì‹</option>
            <option value="chinese">ì¤‘ì‹</option>
            <option value="japanese">ì¼ì‹</option>
            <option value="western">ì–‘ì‹</option>
          </select>
        </div>

        <div>
          <label for="situation">ìƒí™©</label>
          <select id="situation">
            <option value="solo">í˜¼ìˆ </option>
            <option value="two">2ì¸</option>
            <option value="group">ëª¨ì„</option>
          </select>
        </div>
      </div>

      <div class="btnRow">
        <button id="btnRecommend">ì¶”ì²œ ë°›ê¸°</button>
        <button id="btnAnother" class="secondary">ë‹¤ë¥¸ ì¶”ì²œ</button>
      </div>

      <div class="result" id="result" aria-live="polite">
        <div>
          <span class="badge">ìˆ </span>
          <span class="badge">ì¹´í…Œê³ ë¦¬</span>
          <span class="badge">ìƒí™©</span>
        </div>
        <div class="menu">ë²„íŠ¼ì„ ëˆŒëŸ¬ ì¶”ì²œì„ ë°›ì•„ë³´ì„¸ìš” ğŸ™‚</div>
        <div class="reason">ì˜ˆ: ì˜ë§¥ + í•œì‹ + ëª¨ì„ â†’ ì¹˜í‚¨/ì‚¼ê²¹ì‚´/íŠ€ê¹€ ê°™ì€ â€œê°•í•œ ì•ˆì£¼â€ê°€ ì˜ ë§ì•„ìš”!</div>
      </div>

      <div class="footer">â€» ì¹¼ë¡œë¦¬ëŠ” 1ì¸ë¶„ ëŒ€ëµì¹˜(ì°¸ê³ ìš©)ì˜ˆìš”. ë¸Œëœë“œ/ì¡°ë¦¬ë²•ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆì–´ìš” ğŸ˜…</div>
    </div>
  </div>

  <script>
    // tags: ["solo","two","group"] => í•´ë‹¹ ìƒí™©ì— ì í•©
    // kcal: 1ì¸ë¶„ ê¸°ì¤€ ëŒ€ëµì¹˜
    const data = {
      soju: {
        korean: [
          { menu: "ë‘ë¶€ê¹€ì¹˜", kcal: 380, tags: ["solo","two","group"], reason: "ë‹´ë°±+ë§¤ì½¤ ì¡°í•©ì´ ì†Œì£¼ì™€ ì°°ë–¡ì´ì—ìš”." },
          { menu: "ì‚¼ê²¹ì‚´ + ê¹€ì¹˜", kcal: 720, tags: ["two","group"], reason: "ê¸°ë¦„ì§„ ë§›ì„ ì†Œì£¼ê°€ ê¹”ë”í•˜ê²Œ ì •ë¦¬í•´ì¤˜ìš”." },
          { menu: "ë‹­ë°œ", kcal: 520, tags: ["two","group"], reason: "ë§¤ìš´ë§›+ì†Œì£¼ ì¡°í•©ì€ í´ë˜ì‹! í•œ ì”ì´ ìˆ ìˆ ." },
          { menu: "ì˜¤ë…íƒ•", kcal: 260, tags: ["solo","two","group"], reason: "ë”°ëœ»í•œ êµ­ë¬¼ë¡œ í˜ì´ìŠ¤ ì¡°ì ˆì— ì¢‹ì•„ìš”." },
          { menu: "ì œìœ¡ë³¶ìŒ", kcal: 610, tags: ["two","group"], reason: "ê°ì¹ ë§› ê°•í•œ ì–‘ë…ì´ ì†Œì£¼ì™€ ì˜ ë§ì•„ìš”." },
        ],
        chinese: [
          { menu: "íƒ•ìˆ˜ìœ¡", kcal: 680, tags: ["two","group"], reason: "ë‹¬ì½¤ìƒˆì½¤ ì†ŒìŠ¤ê°€ ì†Œì£¼ì˜ ì“´ë§›ì„ ì¤‘í™”í•´ì¤˜ìš”." },
          { menu: "ê¹í’ê¸°", kcal: 640, tags: ["two","group"], reason: "ì§­ì§¤+ë§¤ì½¤ ì†ŒìŠ¤ê°€ ì†Œì£¼ì™€ ê¶í•© ì¢‹ì•„ìš”." },
          { menu: "ë§ˆë¼íƒ•(ë§µê¸° ì¡°ì ˆ)", kcal: 560, tags: ["solo","two","group"], reason: "ì–¼ì–¼í•œ ë§›ì„ ì†Œì£¼ê°€ ê¹”ë”í•˜ê²Œ ëˆŒëŸ¬ì¤˜ìš”." },
        ],
        japanese: [
          { menu: "ì•¼í‚¤í† ë¦¬(ë‹­ê¼¬ì¹˜)", kcal: 420, tags: ["solo","two","group"], reason: "ì§­ì§¤í•œ ê°„ì¥ ë² ì´ìŠ¤ê°€ ì†Œì£¼ì™€ ì˜ ë§ì•„ìš”." },
          { menu: "ê°€ë¼ì•„ê²Œ", kcal: 510, tags: ["two","group"], reason: "íŠ€ê¹€ì˜ ê³ ì†Œí•¨ì„ ì†Œì£¼ê°€ ì •ë¦¬í•´ì¤˜ìš”." },
          { menu: "ì˜¤ë…íƒ•", kcal: 260, tags: ["solo","two","group"], reason: "ë”°ëœ»í•œ êµ­ë¬¼ ì•ˆì£¼ë¡œ ì†Œì£¼ í˜ì´ìŠ¤ ì¡°ì ˆ!" },
        ],
        western: [
          { menu: "ê°ë°”ìŠ¤ + ë°”ê²ŒíŠ¸", kcal: 530, tags: ["two","group"], reason: "ë§ˆëŠ˜/ì˜¬ë¦¬ë¸Œì˜¤ì¼ í–¥ì„ ì†Œì£¼ê°€ ì‚°ëœ»í•˜ê²Œ ì¡ì•„ì¤˜ìš”." },
          { menu: "í•«ìœ™", kcal: 580, tags: ["two","group"], reason: "ì§­ì§¤+ë§¤ì½¤í•œ ë§›ì— ì†Œì£¼ê°€ ì˜ ë“¤ì–´ê°€ìš”." },
          { menu: "ìŠ¤í…Œì´í¬(ë¯¸ë””ì—„)", kcal: 780, tags: ["two","group"], reason: "ê³ ê¸° í’ë¯¸ë¥¼ ì†Œì£¼ê°€ ì˜ì™¸ë¡œ ê¹”ë”í•˜ê²Œ ì”»ì–´ì¤˜ìš”." },
        ]
      },

      beer: {
        korean: [
          { menu: "ì¹˜í‚¨(í›„ë¼ì´ë“œ)", kcal: 720, tags: ["two","group"], reason: "ë§ì´ í•„ìš” ì—†ëŠ” ì¹˜ë§¥ êµ­ë£°!" },
          { menu: "ë–¡ë³¶ì´", kcal: 510, tags: ["solo","two","group"], reason: "ë§¤ì½¤ë‹¬ì½¤í•¨ì„ íƒ„ì‚°ì´ ì‹œì›í•˜ê²Œ ì”»ì–´ì¤˜ìš”." },
          { menu: "ì˜¤ì§•ì–´ì±„/ë§ˆë¥¸ì•ˆì£¼", kcal: 220, tags: ["solo","two","group"], reason: "ê°€ë²¼ìš´ ì§­ì§¤í•¨ + ë§¥ì£¼, í˜¼ìˆ ì—ë„ ë”±." },
          { menu: "ê°ìì „", kcal: 430, tags: ["two","group"], reason: "ë°”ì‚­+ê³ ì†Œí•œ ë§›ì— ë¼ê±°ê°€ ë”± ì¢‹ì•„ìš”." },
        ],
        chinese: [
          { menu: "êµ°ë§Œë‘", kcal: 460, tags: ["solo","two","group"], reason: "ê¸°ë¦„ì§„ ë§Œë‘ë¥¼ ë§¥ì£¼ íƒ„ì‚°ì´ ì •ë¦¬í•´ì¤˜ìš”." },
          { menu: "ì–‘ê¼¬ì¹˜", kcal: 690, tags: ["two","group"], reason: "í–¥ì‹ ë£Œ í’ë¯¸ì™€ ë§¥ì£¼ì˜ ì²­ëŸ‰ê°ì´ ì¢‹ì•„ìš”." },
          { menu: "ë§ˆë¼ìƒ¹ê¶ˆ", kcal: 740, tags: ["two","group"], reason: "ì–¼ì–¼í•œ ë§›ì— ì‹œì›í•œ ë§¥ì£¼ê°€ ì˜ ë§ì•„ìš”." },
        ],
        japanese: [
          { menu: "ì—ë‹¤ë§ˆë©”(í’‹ì½©)", kcal: 160, tags: ["solo","two","group"], reason: "ê°€ë²¼ìš´ ìŠ¤íƒ€í„°ë¡œ ìµœê³ !" },
          { menu: "íƒ€ì½”ì•¼í‚¤", kcal: 420, tags: ["two","group"], reason: "ì†ŒìŠ¤ ê°ì¹ ë§› + ë§¥ì£¼ ì¡°í•©ì´ ì°°ë–¡ì´ì—ìš”." },
          { menu: "ê°€ë¼ì•„ê²Œ", kcal: 510, tags: ["two","group"], reason: "ë°”ì‚­í•œ íŠ€ê¹€ê³¼ ë§¥ì£¼ì˜ ì¡°í•©ì€ ì•ˆì •ì !" },
        ],
        western: [
          { menu: "í”¼ì(í˜í¼ë¡œë‹ˆ/ê³ ë¥´ê³¤ì¡¸ë¼)", kcal: 820, tags: ["group"], reason: "ê³µìœ í˜• ìµœê°•. ì¹˜ì¦ˆ+íƒ„ì‚° ì¡°í•©ì€ ì •ë‹µ!" },
          { menu: "ë‚˜ì´ˆ + ì‚´ì‚¬", kcal: 390, tags: ["solo","two","group"], reason: "ê°€ë³ê²Œ ì§‘ì–´ë¨¹ê¸° ì¢‹ê³  ë§¥ì£¼ë‘ ì˜ ë§ì•„ìš”." },
          { menu: "ë²„íŒ”ë¡œ ìœ™", kcal: 610, tags: ["two","group"], reason: "ë§¤ì½¤í•œ ì†ŒìŠ¤ì— ë§¥ì£¼ í•œ ëª¨ê¸ˆì´ë©´ ë¦¬ì…‹!" },
          { menu: "ì†Œì‹œì§€ í”Œë˜í„°", kcal: 760, tags: ["group"], reason: "ë‹¤ ê°™ì´ ë¨¹ê¸° ì¢‹ê³  ì§­ì§¤í•¨ì´ ë§¥ì£¼ë‘ ì°°ë–¡." },
        ]
      },

      // âœ… ì˜ë§¥ ì¶”ê°€
      somaek: {
        korean: [
          { menu: "ì¹˜í‚¨(í›„ë¼ì´ë“œ)", kcal: 720, tags: ["two","group"], reason: "ì˜ë§¥ì˜ ê°•í•œ íƒ€ê²©ê°ì— ê¸°ë¦„ì§„ ì¹˜í‚¨ì´ ë”± ë§ì•„ìš”." },
          { menu: "ì‚¼ê²¹ì‚´ + ê¹€ì¹˜", kcal: 720, tags: ["two","group"], reason: "ê¸°ë¦„ì§+íƒ„ì‚°+ì•Œì½”ì˜¬ ì¡°í•©ìœ¼ë¡œ ì‹œì›í•˜ê²Œ ì •ë¦¬!" },
          { menu: "ë‹­ê°ˆë¹„", kcal: 680, tags: ["two","group"], reason: "ë§¤ì½¤í•œ ì–‘ë…ì— ì˜ë§¥ í•œ ëª¨ê¸ˆì´ë©´ ìŠ¤íŠ¸ë ˆìŠ¤ í•´ì†Œ." },
          { menu: "ì˜¤ì§•ì–´íŠ€ê¹€", kcal: 540, tags: ["two","group"], reason: "íŠ€ê¹€ë¥˜ì˜ ì§­ì§¤í•¨ì´ ì˜ë§¥ê³¼ ì˜ ë§ì•„ìš”." },
          { menu: "ì˜¤ë…íƒ•", kcal: 260, tags: ["solo","two","group"], reason: "ì˜ë§¥ í…ì…˜ì„ êµ­ë¬¼ë¡œ ì¡ì•„ì£¼ë©´ í˜ì´ìŠ¤ê°€ ì¢‹ì•„ì ¸ìš”." },
        ],
        chinese: [
          { menu: "íƒ•ìˆ˜ìœ¡", kcal: 680, tags: ["two","group"], reason: "ë‹¬ì½¤ìƒˆì½¤+íƒ„ì‚° ì¡°í•©ì´ ì˜ë§¥ê³¼ ì•ˆì •ì !" },
          { menu: "ê¹í’ê¸°", kcal: 640, tags: ["two","group"], reason: "ì§­ì§¤+ë§¤ì½¤í•œ ì†ŒìŠ¤ê°€ ì˜ë§¥ì˜ íƒ€ê²©ê°ê³¼ ì–´ìš¸ë ¤ìš”." },
          { menu: "ê³ ì¶”ì¡ì±„ + ê½ƒë¹µ", kcal: 620, tags: ["two","group"], reason: "í’ë¯¸ ê°•í•œ ë³¶ìŒë¥˜ê°€ ì˜ë§¥ê³¼ ì˜ ë§ìŠµë‹ˆë‹¤." },
        ],
        japanese: [
          { menu: "ê°€ë¼ì•„ê²Œ", kcal: 510, tags: ["two","group"], reason: "ë°”ì‚­í•œ íŠ€ê¹€+ì˜ë§¥ì€ íšŒì‹ ëíŒì™•." },
          { menu: "ì•¼í‚¤í† ë¦¬(ë‹­ê¼¬ì¹˜)", kcal: 420, tags: ["solo","two","group"], reason: "ì§­ì§¤í•œ ê¼¬ì¹˜ê°€ ì˜ë§¥ì„ ê³„ì† ë¶€ë¥´ê²Œ í•´ìš”." },
          { menu: "ì˜¤ì½”ë…¸ë¯¸ì•¼í‚¤", kcal: 640, tags: ["two","group"], reason: "ì†ŒìŠ¤ ê°ì¹ ë§› + ì˜ë§¥ ì²­ëŸ‰ê° ì¡°í•©ì´ ì¢‹ì•„ìš”." },
        ],
        western: [
          { menu: "í”¼ì", kcal: 820, tags: ["group"], reason: "ì˜ë§¥ì—” ê³µìœ í˜• â€˜í—¤ë¹„ ì•ˆì£¼â€™ê°€ ìµœê³ ì˜ˆìš”." },
          { menu: "ë²„íŒ”ë¡œ ìœ™", kcal: 610, tags: ["two","group"], reason: "ë§¤ì½¤ì§­ì§¤í•œ ìœ™ì´ ì˜ë§¥ê³¼ ì°°ë–¡." },
          { menu: "ë‚˜ì´ˆ + ì‚´ì‚¬", kcal: 390, tags: ["solo","two","group"], reason: "ê°€ë³ê²Œ ì‹œì‘í•˜ê³  ì‹¶ì„ ë•Œ ì¢‹ì•„ìš”." },
          { menu: "ì†Œì‹œì§€ í”Œë˜í„°", kcal: 760, tags: ["group"], reason: "íšŒì‹/ëª¨ì„ì—ì„œ ëŒë ¤ë¨¹ê¸° ì¢‹ì€ êµ­ë¯¼ ì•ˆì£¼." },
        ]
      },

      makgeolli: {
        korean: [
          { menu: "ê¹€ì¹˜ì „", kcal: 520, tags: ["two","group"], reason: "ë§‰ê±¸ë¦¬ ì‚°ë¯¸ì™€ ì „ì˜ ê¸°ë¦„ì§ì´ ê· í˜•ì„ ì¡ì•„ìš”." },
          { menu: "ë¶€ì¶”ì „", kcal: 470, tags: ["two","group"], reason: "í–¥ê¸‹í•œ ë¶€ì¶”ì™€ ë§‰ê±¸ë¦¬ì˜ ë¶€ë“œëŸ¬ì›€ì´ ì˜ ë§ì•„ìš”." },
          { menu: "ë„í† ë¦¬ë¬µë¬´ì¹¨", kcal: 240, tags: ["solo","two","group"], reason: "ë‹´ë°±+ìƒˆì½¤ë§¤ì½¤ ì–‘ë…ì´ ì°°ë–¡!" },
          { menu: "ê°ìì „", kcal: 430, tags: ["two","group"], reason: "ê³ ì†Œí•œ ë§›ì´ ë§‰ê±¸ë¦¬ì™€ í¸ì•ˆí•˜ê²Œ ì–´ìš¸ë ¤ìš”." },
        ],
        chinese: [
          { menu: "ìœ ë¦°ê¸°", kcal: 620, tags: ["two","group"], reason: "ìƒˆì½¤í•œ ì†ŒìŠ¤ê°€ ë§‰ê±¸ë¦¬ì˜ ë¶€ë“œëŸ¬ì›€ê³¼ ì¡°í™”ë¡œì›Œìš”." },
          { menu: "ê°€ì§€íŠ€ê¹€", kcal: 540, tags: ["two","group"], reason: "ë¶€ë“œëŸ¬ìš´ ì‹ê°ê³¼ ì€ì€í•œ ë‹¨ë§›ì´ ì˜ ë§ì•„ìš”." }
        ],
        japanese: [
          { menu: "ëª¨ë‘  íŠ€ê¹€(í…í‘¸ë¼)", kcal: 690, tags: ["two","group"], reason: "íŠ€ê¹€ì˜ ê³ ì†Œí•¨ì´ ë§‰ê±¸ë¦¬ì™€ ê¶í•© ì¢‹ì•„ìš”." },
          { menu: "ì˜¤ì½”ë…¸ë¯¸ì•¼í‚¤", kcal: 640, tags: ["two","group"], reason: "ì†ŒìŠ¤ í’ë¯¸ì™€ ë§‰ê±¸ë¦¬ì˜ ë¶€ë“œëŸ¬ì›€ì´ ì˜ ì–´ìš¸ë ¤ìš”." }
        ],
        western: [
          { menu: "ì¹˜ì¦ˆ í”Œë˜í„°(ë¸Œë¦¬/ì²´ë‹¤)", kcal: 410, tags: ["solo","two","group"], reason: "ë§‰ê±¸ë¦¬ì˜ ì€ì€í•œ ë‹¨ë§›ê³¼ ì¹˜ì¦ˆê°€ ì˜ì™¸ë¡œ ì˜ ë§ì•„ìš”." },
          { menu: "ë²„ì„¯ í¬ë¦¼ìˆ˜í”„ + ë¹µ", kcal: 480, tags: ["solo","two"], reason: "ë¶€ë“œëŸ¬ìš´ ì§ˆê°ì´ ë§‰ê±¸ë¦¬ì˜ í…ìŠ¤ì²˜ì™€ ì¡°í™”ë¡œì›Œìš”." },
          { menu: "ê°ìíŠ€ê¹€(ê°ˆë¦­/íŠ¸ëŸ¬í”Œ)", kcal: 520, tags: ["two","group"], reason: "ê³ ì†Œí•œ ê°ìì™€ ë§‰ê±¸ë¦¬ ì‚°ë¯¸ê°€ ë°¸ëŸ°ìŠ¤ë¥¼ ë§ì¶°ìš”." }
        ]
      },

      wine: {
        korean: [
          { menu: "ë¶ˆê³ ê¸°", kcal: 650, tags: ["two","group"], reason: "ë‹¬í°í•œ ì–‘ë…ì´ ì™€ì¸ì˜ ê³¼ì‹¤í–¥ê³¼ ì˜ ë§ì•„ìš”." },
          { menu: "ê³¶ê° + ê²¬ê³¼ + ì¹˜ì¦ˆ", kcal: 420, tags: ["solo","two","group"], reason: "ë‹¨ì§  ì¡°í•©ì´ ì™€ì¸ê³¼ ê¹”ë”í•´ìš”." },
          { menu: "ì¡ì±„", kcal: 520, tags: ["two","group"], reason: "ì€ì€í•œ ë‹¨ë§›ê³¼ í–¥ì´ ì™€ì¸ê³¼ ë¬´ë‚œí•˜ê²Œ ì–´ìš¸ë ¤ìš”." }
        ],
        chinese: [
          { menu: "ë©˜ë³´ìƒ¤", kcal: 690, tags: ["two","group"], reason: "ê³ ì†Œí•œ íŠ€ê¹€ + ì™€ì¸ ì‚°ë¯¸ ì¡°í•©ì´ ì¢‹ì•„ìš”." },
          { menu: "ê¹í’ìƒˆìš°", kcal: 640, tags: ["two","group"], reason: "ë‹¬ì½¤ë§¤ì½¤ ì†ŒìŠ¤ê°€ ì™€ì¸ê³¼ ì˜ì™¸ë¡œ ì˜ ë§ì•„ìš”." }
        ],
        japanese: [
          { menu: "ì—°ì–´ ì‚¬ì‹œë¯¸", kcal: 430, tags: ["solo","two","group"], reason: "ê¸°ë¦„ì§„ ì—°ì–´ì™€ ì™€ì¸ ì‚°ë¯¸ê°€ ê· í˜•ì„ ì¡ì•„ìš”." },
          { menu: "ëª…ë€ í¬ë¦¼ ìš°ë™", kcal: 720, tags: ["two"], reason: "í¬ë¦¬ë¯¸í•¨ê³¼ ì™€ì¸ì˜ ì‚°ë¯¸ê°€ ì¡°í™”ë¡œì›Œìš”." }
        ],
        western: [
          { menu: "ì¹˜ì¦ˆ í”Œë˜í„° + ì˜¬ë¦¬ë¸Œ", kcal: 460, tags: ["solo","two","group"], reason: "ì™€ì¸ì˜ ê¸°ë³¸ ì§ê¿. ì‚°ë¯¸/íƒ€ë‹Œì„ ë¶€ë“œëŸ½ê²Œ ë°›ì•„ì¤˜ìš”." },
          { menu: "íŒŒìŠ¤íƒ€(í† ë§ˆí† /í¬ë¦¼)", kcal: 780, tags: ["two","group"], reason: "í† ë§ˆí† ëŠ” ì‚°ë¯¸, í¬ë¦¼ì€ ë°”ë””ê°ìœ¼ë¡œ ì™€ì¸ê³¼ ì˜ ë§ì•„ìš”." },
          { menu: "í”„ë¡œìŠˆí† (í•˜ëª½) + ë©œë¡ ", kcal: 390, tags: ["two","group"], reason: "ì§ ë§›+ë‹¨ë§› ëŒ€ë¹„ê°€ ì™€ì¸ê³¼ í™˜ìƒì´ì—ìš”." },
          { menu: "ë¸Œë£¨ìŠ¤ì¼€íƒ€", kcal: 320, tags: ["solo","two","group"], reason: "ê°€ë³ê²Œ ì§‘ì–´ë¨¹ê¸° ì¢‹ê³  ì™€ì¸ê³¼ ì‚°ëœ»í•´ìš”." }
        ]
      },

      whisky: {
        korean: [
          { menu: "ìœ¡í¬ + ê²¬ê³¼", kcal: 320, tags: ["solo","two","group"], reason: "ì§­ì§¤í•œ ê°ì¹ ë§›ì´ ìœ„ìŠ¤í‚¤ í’ë¯¸ë¥¼ ì‚´ë ¤ì¤˜ìš”." },
          { menu: "í›ˆì œì˜¤ë¦¬", kcal: 610, tags: ["two","group"], reason: "ìŠ¤ëª¨í‚¤í•œ í’ë¯¸ê°€ ìœ„ìŠ¤í‚¤ì™€ ì˜ ë§ì•„ìš”." },
          { menu: "ë¶ˆê³ ê¸° ìœ¡ì „", kcal: 540, tags: ["two","group"], reason: "ì§„í•œ ê°ì¹ ë§›ì´ ìœ„ìŠ¤í‚¤ì™€ ì•ˆì •ì ìœ¼ë¡œ ì–´ìš¸ë ¤ìš”." }
        ],
        chinese: [
          { menu: "ì˜¤í–¥ì¥ìœ¡", kcal: 680, tags: ["two","group"], reason: "í–¥ì‹ ë£Œ í’ë¯¸ê°€ ìœ„ìŠ¤í‚¤ì™€ ì˜ ì–´ìš¸ë¦½ë‹ˆë‹¤." },
          { menu: "ë§ˆíŒŒë‘ë¶€(ëœ ë§¤ìš´)", kcal: 560, tags: ["two","group"], reason: "ì§­ì§¤í•œ ê°ì¹ ë§›ì´ ìœ„ìŠ¤í‚¤ì™€ ì˜ ë§ì•„ìš”." }
        ],
        japanese: [
          { menu: "í›ˆì œì—°ì–´", kcal: 390, tags: ["solo","two","group"], reason: "ìŠ¤ëª¨í‚¤/ì§­ì§¤í•œ ë§›ì´ ìœ„ìŠ¤í‚¤ì™€ ì°°ë–¡ì´ì—ìš”." },
          { menu: "ê°€ë¼ì•„ê²Œ", kcal: 510, tags: ["two","group"], reason: "íŠ€ê¹€ì˜ ê³ ì†Œí•¨ì´ ìœ„ìŠ¤í‚¤ì™€ ì˜ ë§ì•„ìš”." }
        ],
        western: [
          { menu: "ë‹¤í¬ ì´ˆì½œë¦¿(70%+)", kcal: 260, tags: ["solo","two","group"], reason: "ìœ„ìŠ¤í‚¤ì˜ ì˜¤í¬í–¥ê³¼ ë‹¤í¬ì´ˆì½œë¦¿ì´ ì˜ ì–´ìš¸ë ¤ìš”." },
          { menu: "ë¸”ë£¨ì¹˜ì¦ˆ + ê¿€", kcal: 340, tags: ["solo","two"], reason: "ê°•í•œ í’ë¯¸ë¥¼ ìœ„ìŠ¤í‚¤ê°€ ì¡ì•„ì£¼ê³  ê¿€ì´ ì—°ê²°í•´ì¤˜ìš”." },
          { menu: "ìŠ¤í…Œì´í¬(í›„ì¶”/ë²„í„°)", kcal: 780, tags: ["two","group"], reason: "ì§„í•œ ê°ì¹ ë§›ì´ ìœ„ìŠ¤í‚¤ì˜ í’ë¯¸ë¥¼ ë” ì‚´ë ¤ì¤˜ìš”." }
        ]
      }
    };

    const alcoholLabel = { soju:"ì†Œì£¼", beer:"ë§¥ì£¼", somaek:"ì˜ë§¥", makgeolli:"ë§‰ê±¸ë¦¬", wine:"ì™€ì¸", whisky:"ìœ„ìŠ¤í‚¤" };
    const cuisineLabel = { korean:"í•œì‹", chinese:"ì¤‘ì‹", japanese:"ì¼ì‹", western:"ì–‘ì‹" };
    const situationLabel = { solo:"í˜¼ìˆ ", two:"2ì¸", group:"ëª¨ì„" };

    let lastPickKey = null;
    let lastMenuName = null;

    function pickRandom(arr) { return arr[Math.floor(Math.random() * arr.length)]; }

    function getPool(alcohol, cuisine, situation) {
      const all = (data?.[alcohol]?.[cuisine] ?? []);
      const filtered = all.filter(item => (item.tags || []).includes(situation));
      return (filtered.length > 0) ? filtered : all;
    }

    function chooseItem(pool, avoidMenuName = null) {
      if (!pool || pool.length === 0) return null;
      if (!avoidMenuName) return pickRandom(pool);
      const candidates = pool.filter(x => x.menu !== avoidMenuName);
      return (candidates.length > 0) ? pickRandom(candidates) : pickRandom(pool);
    }

    function renderResult(alcohol, cuisine, situation, item, poolSize) {
      const resultEl = document.getElementById("result");
      if (!item) {
        resultEl.innerHTML = `
          <div>
            <span class="badge">ìˆ : ${alcoholLabel[alcohol] ?? alcohol}</span>
            <span class="badge">ì¹´í…Œê³ ë¦¬: ${cuisineLabel[cuisine] ?? cuisine}</span>
            <span class="badge">ìƒí™©: ${situationLabel[situation] ?? situation}</span>
          </div>
          <div class="menu">ì¶”ì²œ ë°ì´í„°ê°€ ì—†ì–´ìš” ğŸ˜…</div>
          <div class="reason">ë‹¤ë¥¸ ì¡°í•©ìœ¼ë¡œ ì„ íƒí•´ë³´ì„¸ìš”.</div>
        `;
        return;
      }

      resultEl.innerHTML = `
        <div>
          <span class="badge">ìˆ : ${alcoholLabel[alcohol]}</span>
          <span class="badge">ì¹´í…Œê³ ë¦¬: ${cuisineLabel[cuisine]}</span>
          <span class="badge">ìƒí™©: ${situationLabel[situation]}</span>
        </div>
        <div class="menu">âœ… ì¶”ì²œ: ${item.menu}</div>
        <div class="meta">ğŸ”¥ 1ì¸ë¶„ ì¹¼ë¡œë¦¬: <b>${item.kcal ?? "?"} kcal</b> Â· í›„ë³´êµ°: ${poolSize}ê°œ</div>
        <div class="reason">ğŸ’¡ ì´ìœ : ${item.reason ?? "ì˜¤ëŠ˜ ë¶„ìœ„ê¸°ì— ë”± ë§ëŠ” ì¡°í•©ì´ì—ìš”!"}</div>
      `;
    }

    function recommend(isAnother = false) {
      const alcohol = document.getElementById("alcohol").value;
      const cuisine = document.getElementById("cuisine").value;
      const situation = document.getElementById("situation").value;

      const key = `${alcohol}|${cuisine}|${situation}`;
      const pool = getPool(alcohol, cuisine, situation);

      const avoid = (isAnother && key === lastPickKey) ? lastMenuName : null;
      const item = chooseItem(pool, avoid);

      lastPickKey = key;
      lastMenuName = item?.menu ?? null;

      renderResult(alcohol, cuisine, situation, item, pool.length);
    }

    document.getElementById("btnRecommend").addEventListener("click", () => recommend(false));
    document.getElementById("btnAnother").addEventListener("click", () => recommend(true));
  </script>
</body>
</html>